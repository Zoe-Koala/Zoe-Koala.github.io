<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="计算机网络,安全," />










<meta name="description" content="千峰网络安全入门笔记，持续更新ing…">
<meta property="og:type" content="article">
<meta property="og:title" content="千峰网络安全">
<meta property="og:url" content="http://yoursite.com/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/index.html">
<meta property="og:site_name" content="Zoe-Koala&#39;s Blog">
<meta property="og:description" content="千峰网络安全入门笔记，持续更新ing…">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://yoursite.com/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/IP%E5%9C%B0%E5%9D%80%E7%BC%96%E5%9D%80%E6%96%B9%E5%BC%8F.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/DNS%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%B8%BB%E5%8A%A8%E6%A8%A1%E5%BC%8F.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E8%A2%AB%E5%8A%A8%E6%A8%A1%E5%BC%8F.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/OSI%E4%B8%83%E5%B1%82%E6%A8%A1%E5%9E%8B.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E6%95%B0%E6%8D%AE%E5%B0%81%E8%A3%85%E5%85%B3%E8%81%94%E5%9B%BE.jpg">
<meta property="og:image" content="http://yoursite.com/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E5%B8%A7%E7%BB%93%E6%9E%84.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%861.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%862.png">
<meta property="og:image" content="http://yoursite.com/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/IP%E6%95%B0%E6%8D%AE%E5%8C%85%E6%A0%BC%E5%BC%8F.png">
<meta property="article:published_time" content="2020-06-10T05:08:38.000Z">
<meta property="article:modified_time" content="2022-04-08T02:58:43.989Z">
<meta property="article:author" content="wuwen">
<meta property="article:tag" content="计算机网络">
<meta property="article:tag" content="安全">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/IP%E5%9C%B0%E5%9D%80%E7%BC%96%E5%9D%80%E6%96%B9%E5%BC%8F.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2020/06/10/千峰网络安全/"/>





  <title>千峰网络安全 | Zoe-Koala's Blog</title>
  








<meta name="generator" content="Hexo 4.2.1"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Zoe-Koala's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/index.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/index.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Categories
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wuwen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zoe-Koala's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">千峰网络安全</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-06-10T13:08:38+08:00">
                2020-06-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index">
                    <span itemprop="name">计算机网络</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E5%AE%89%E5%85%A8/" itemprop="url" rel="index">
                    <span itemprop="name">安全</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>千峰网络安全入门笔记，持续更新ing…</p>
<a id="more"></a>
<h1 id="IP地址详解"><a href="#IP地址详解" class="headerlink" title="IP地址详解"></a>IP地址详解</h1><h2 id="简单局域网构成"><a href="#简单局域网构成" class="headerlink" title="简单局域网构成"></a>简单局域网构成</h2><p>交换机 ——组建局域网（不能联网） #上网需要路由器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">局域网：一般称为内网</span><br><span class="line">简单局域网构成：交换机，网线，pc(其他IT结构)</span><br><span class="line">交换机：用来组建内网的局域网的设备</span><br></pre></td></tr></table></figure>
<p><em>硬件系统</em>：网络服务器、网络工作站、网卡以及传输介质和其他互连设备。具有了完整的硬件系统，还不能成为局域网，必须有合适的高层软件才能满足用户的需求。高层软件包括系统软件和应用软件</p>
<p><em>局域网的系统软件</em>（即网络操作系统）是用户与计算机网络之间的接口。用户只有通过网络操作系统才能实现文件管理、设备管理、通信管理、网络管理，才能实现局域网是由Internet服务的功能。</p>
<p><em>服务器</em>可分为<code>文件服务器</code>、<code>打印服务器</code>、<code>通信服务器</code>、<code>数据库服务</code>等。文件服务网是局域网上最基本的服务器，用来管理局域网内的文件资源，打印服务器则为用户提供网络共享打印服务。通信服务器主要负责本地局域网与其他局域网、主机系统或远程工作站的通信。而数据库服务器则是为用户提供数据库检索、更新等服务。</p>
<p><em>网络工作站</em>也称为<em>客户机</em>，可以是一般的个人计算机，也可以是专用电脑，如图形工作站等。工作站可以有自己的操作系统，独立工作。通过运行工作站的网络软件可以访问服务器的共享资源，目前常见的工作站操作系统有Windows Xp、Windows 7、Windows 8和Linux。</p>
<p><code>网络工作站</code>和<code>服务器</code>之间的连接通过<code>传输介质</code>和<code>网络连接部件</code>来实现。网络连接部件主要包括<code>网卡</code>、<code>中继器</code>、<code>集线器</code>和<code>交换机</code>等。</p>
<h2 id="IP地址"><a href="#IP地址" class="headerlink" title="IP地址"></a>IP地址</h2><p>IP是<code>Internet Protocol</code>（网际互连协议）的缩写，是<code>TCP/IP</code>体系中的<code>网络层协议</code><br>唯一标识<br>为互联网上的每一个网络和每一台主机分配一个逻辑地址，以此来屏蔽物理地址的差异<br>是一段网络编码(二进制)由32位组成<br>xxxxxxxx.xxxxxxxx.xxxxxxxx.xxxxxxxx 为了便于记忆，写成<em>点分十进制</em><br>X.X.X.X     X范围0-255       例如 10.1.1.1           192.128.1.1</p>
<p>IP地址是一个<code>32</code>位的二进制数，通常被分割为<code>4个“8位二进制数”（也就是4个字节）</code>。IP地址通常用<code>“点分十进制”</code>表示成（a.b.c.d）的形式，其中，a,b,c,d都是0~255之间的十进制整数。例：<strong>点分十进IP地址</strong><code>（100.4.5.6）</code>，实际上是32位二进制数<code>（01100100.00000100.00000101.00000110）</code></p>
<p><strong>目的：</strong>提高网络的可扩展性：</p>
<ol>
<li>解决互联网问题，实现大规模、异构网络的互联互通</li>
<li>分割顶层网络应用和底层网络技术之间的耦合关系，以利于两者的独立发展</li>
</ol>
<p><code>IP协议</code>(因特网协议)实际上是一套由软件程序组成的协议软件，它把各种不同“帧”统一转换成“IP数据报”格式，这种转换是因特网的一个最重要的特点，使所有各种计算机都能在因特网上实现互通，即具有“开放性”的特点</p>
<h2 id="子网掩码"><a href="#子网掩码" class="headerlink" title="子网掩码"></a>子网掩码</h2><p>局域网通信规则：在同一个局域网中，所有的IP必须在同一网段中才可以互相通信<br>IP地址构成：网络位+主机位（网络位相同的IP地址，为同一网段）<br>子网掩码：用来确定IP地址的网络位<br>子网掩码如何确认网络位：与255对应的数字为网络位，与0对应的为主机位<br>255.0.0.0<br>255.255.0.0<br>255.255.255.0</p>
<h2 id="IP地址详解-1"><a href="#IP地址详解-1" class="headerlink" title="IP地址详解"></a>IP地址详解</h2><p><strong>共有地址</strong><br>公有地址（Public address）由Inter NIC负责。这些IP地址分配给注册并向Inter NIC提出申请的组织机构。通过它<code>直接</code>访问因特网</p>
<p><strong>私有地址</strong><br>私有地址（Private address）属于非注册地址，专门为组织机构内部使用。</p>
<img src="/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/IP%E5%9C%B0%E5%9D%80%E7%BC%96%E5%9D%80%E6%96%B9%E5%BC%8F.png" class="">
<p>国际标准组织ISO定义地址分类，五大类（以IP地址第一位进行区分）<br>单播地址        子网掩码可修改<br><code>A类 1-126 默认子网掩码 255.0.0.0</code><br><code>B类 128-191 默认子网掩码 255.255.0.0</code><br><code>C类 192-223 默认子网掩码 255.255.255.0</code><br>组播地址<br><code>D类 224-239</code><br>科研使用<br><code>E类 240-254</code><br>主机位置置0表示<code>网段</code><br>所在网段可用IP地址255-1=254，<code>全0或255</code>不可用，255表示广播地址（所有人）<br><code>127.0.0.1</code>回环地址/自己</p>
<p><strong>特殊的网址</strong></p>
<ol>
<li>每一个字节都为0的地址（“0.0.0.0”）对应于当前主机；</li>
<li>IP地址中的每一个字节都为1的IP地址（“255．255．255．255”）是当前子网的广播地址；</li>
<li>IP地址中凡是以“11110”开头的E类IP地址都保留用于将来和实验使用。</li>
<li>IP地址中不能以十进制“127”作为开头，该类地址中数字127．0．0．1到127．255．255．255用于回路测试，如：127.0.0.1可以代表本机IP地址，用“<a href="http://127.0.0.1”就可以测试本机中配置的Web服务器。" target="_blank" rel="noopener">http://127.0.0.1”就可以测试本机中配置的Web服务器。</a></li>
<li>网络ID的第一个6位组也不能全置为“0”，全“0”表示本地网络。</li>
</ol>
<h2 id="网关"><a href="#网关" class="headerlink" title="网关"></a>网关</h2><p>网关：一个网络的出口Gateway=GW       一般网关在路由器上<br>路由器：可用连接内外网的设备<br><code>/*网关：正常是该网断的第一个或最后一个*/</code></p>
<h3 id="PC向外发包"><a href="#PC向外发包" class="headerlink" title="PC向外发包"></a>PC向外发包</h3><ol>
<li>首先判断目标IP地址与自己是否在同一网段</li>
<li>如果在同一网段，则直接发出去，而不找网关</li>
<li>如果不在同一网段，直接发包给网关</li>
</ol>
<h2 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h2><p>DNS：Domain Name Service 域名服务<br>备注：一台机器需要连接外网，需要<code>IP地址</code>，<code>子网掩码</code>，<code>网关</code>，<code>DNS</code>四大参数</p>
<h2 id="配置IP地址"><a href="#配置IP地址" class="headerlink" title="配置IP地址"></a>配置IP地址</h2><p>虚拟机实验，待补充</p>
<h2 id="网络测试命令"><a href="#网络测试命令" class="headerlink" title="网络测试命令"></a>网络测试命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ipconfig     #查看IP地址的基本信息</span><br><span class="line">ipconfig &#x2F;all     #查看IP地址的详细信息</span><br><span class="line">ping x.x.x.x（目标IP地址）      #测试网速，有去有回即为成功通信</span><br><span class="line">ping -t x.x.x.x        #一直ping</span><br><span class="line">ping -n 数字 x.x.x.x       #修改ping包的数量</span><br><span class="line">ping -l 数字 x.x.x.x      #修改ping包的大小</span><br></pre></td></tr></table></figure>
<p>注：*如果ping不通，可能对方不在线，或者对方开启了防火墙</p>
<p>手工解析域名     如：<br>nslookup <a href="http://www.jd.com" target="_blank" rel="noopener">www.jd.com</a>        手工解析域名中IP地址</p>
<h1 id="进制转换"><a href="#进制转换" class="headerlink" title="进制转换"></a>进制转换</h1><p>后面补充</p>
<h1 id="基本DOS命令"><a href="#基本DOS命令" class="headerlink" title="基本DOS命令"></a>基本DOS命令</h1><p>后面补充</p>
<h1 id="批处理编写"><a href="#批处理编写" class="headerlink" title="批处理编写"></a>批处理编写</h1><h2 id="批处理作用"><a href="#批处理作用" class="headerlink" title="批处理作用"></a>批处理作用</h2><p>自上而下成批的处理每一条命令，直到执行最后一条</p>
<h2 id="如何创建批处理"><a href="#如何创建批处理" class="headerlink" title="如何创建批处理"></a>如何创建批处理</h2><p>扩展名  .bat<br>创建方法：新建一个记事本文件，然后扩展名改成  .bat<br>案例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">d:</span><br><span class="line">cd \</span><br><span class="line">cd tmp</span><br><span class="line">del . &#x2F;s&#x2F;q</span><br></pre></td></tr></table></figure>
<p>%userfrofile% 变量（用户名）</p>
<h2 id="批处理基本语法"><a href="#批处理基本语法" class="headerlink" title="批处理基本语法"></a>批处理基本语法</h2><h3 id="echo-off"><a href="#echo-off" class="headerlink" title="@echo off"></a>@echo off</h3><p>作用：关闭回显功能，也就是屏蔽过程，建议放置在批处理首行</p>
<h3 id="pause"><a href="#pause" class="headerlink" title="pause"></a>pause</h3><p>作用：暂停批处理运行</p>
<h3 id="title"><a href="#title" class="headerlink" title="title"></a>title</h3><p>作用：为批处理脚本设置标题</p>
<h3 id="echo"><a href="#echo" class="headerlink" title="echo."></a>echo.</h3><p>作用：在执行批处理脚本时，可以空一行</p>
<h3 id="set"><a href="#set" class="headerlink" title="set"></a>set</h3><p>作用：设置变量，常用在与脚本的互动赋值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">互动赋值：set &#x2F;p time&#x3D;输入时间：</span><br><span class="line">引用变量：%time%</span><br></pre></td></tr></table></figure>
<h3 id="和goto"><a href="#和goto" class="headerlink" title=":和goto"></a>:和goto</h3><p>：定义标签名<br>goto实现跳转</p>
<h3 id="例子："><a href="#例子：" class="headerlink" title="例子："></a>例子：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line">title ****</span><br><span class="line">color 0a</span><br><span class="line">:menu</span><br><span class="line">cls</span><br><span class="line">echo &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">echo       1、定时关机</span><br><span class="line">echo       2、取消定时</span><br><span class="line">echo       3、退出</span><br><span class="line">echo &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">set &#x2F;p num&#x3D;您的选择：</span><br><span class="line">if “%num%”&#x3D;&#x3D;“1” goto 1</span><br><span class="line">if “%num%”&#x3D;&#x3D;“2” goto 2</span><br><span class="line">if “%num%”&#x3D;&#x3D;“3” goto 3</span><br><span class="line">echo 别tm瞎输入，好好输入，别闹</span><br><span class="line">pause</span><br><span class="line">goto menu</span><br><span class="line"></span><br><span class="line">:1</span><br><span class="line">set &#x2F;p a&#x3D;请输入时间(s)</span><br><span class="line">shutdown -s -f -t %a%</span><br><span class="line">goto menu</span><br><span class="line"></span><br><span class="line">:2</span><br><span class="line">shutdown -a</span><br><span class="line">goto menu</span><br><span class="line"></span><br><span class="line">:3</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>
<p>针对xp或2003的蓝屏命令<code>ntsd -c q -pn winlogon.exe</code>强制杀死进程<br><code>taskkill /im explorer.exe</code>强制杀死桌面</p>
<h1 id="用户与组管理"><a href="#用户与组管理" class="headerlink" title="用户与组管理"></a>用户与组管理</h1><h2 id="服务器系统版本介绍"><a href="#服务器系统版本介绍" class="headerlink" title="服务器系统版本介绍"></a>服务器系统版本介绍</h2><p>windows服务器系统：win2000，win2003，win2008，win2012<br>Linux服务器系统：Redhat，Centos</p>
<h2 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h2><h3 id="用户概述"><a href="#用户概述" class="headerlink" title="用户概述"></a>用户概述</h3><p>每一个用户登陆系统后，拥有不同的操作权限<br>每一个账户有自己唯一的SID（安全标识符）<br>用户SID：……………-……<br>系统SID：……………           ……用户id：UID        ……………系统id</p>
<p>windows系统管理员administrator的UID是500<br>普通用户的UID是1000开始<br>不同账户拥有不同的权限，为不同的账户赋权限也就是为不同帐户SID赋权限</p>
<p>查看sid值：whoami /user<br>账户密码存储位置 c:\windows\system32\config\SAM      #暴力破解 撞库<br>windows系统上，默认密码最长有效期42天</p>
<h3 id="内置账户"><a href="#内置账户" class="headerlink" title="内置账户"></a>内置账户</h3><h4 id="给人使用的账户"><a href="#给人使用的账户" class="headerlink" title="给人使用的账户"></a>给人使用的账户</h4><p><code>administrator</code>     #管理员帐户<br><code>guest</code>        #来宾账户</p>
<h4 id="计算机服务组件相关的系统账户"><a href="#计算机服务组件相关的系统账户" class="headerlink" title="计算机服务组件相关的系统账户"></a>计算机服务组件相关的系统账户</h4><p><code>system</code>         #系统账户==权限至高无上<br><code>local service</code> # 本地服务账户==权限等于普通用户<br><code>network service</code> #网络服务账户==权限等于普通用户</p>
<h4 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h4><p>每个用户都有自己的配置文件（家目录），在用户第一次登陆的时候自动产生，路径是<br>win7/win2008  <code>c:\用户\</code><br>xp/win2003    <code>c:\Documents and Settings\</code></p>
<p><code>net user</code>#列出当前计算机用户列表<br><code>net user 用户名</code>#查看该用户详细信息<br><code>net user 用户名 新密码</code> #给用户修改密码<br><code>net user 用户名 密码</code> /add #新建用户<br><code>net user 用户名 /del</code>#删除用户<br><code>net user 用户名 /active:yes(no)</code> #激活（禁用）账户</p>
<h2 id="组管理"><a href="#组管理" class="headerlink" title="组管理"></a>组管理</h2><h3 id="组概述"><a href="#组概述" class="headerlink" title="组概述"></a>组概述</h3><p>组的作用：简化权限的赋予<br>赋权限方式：用户—组—赋权限           用户—赋权限</p>
<h3 id="内置组"><a href="#内置组" class="headerlink" title="内置组"></a>内置组</h3><p>内置组的权限默认已经被系统赋予</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">administrator</span><br><span class="line">guests</span><br><span class="line">users</span><br><span class="line">network</span><br><span class="line">print</span><br><span class="line">Remote Desktop</span><br></pre></td></tr></table></figure>
<h3 id="组管理命令"><a href="#组管理命令" class="headerlink" title="组管理命令"></a>组管理命令</h3><p><code>net localgroup</code> #列出所有组列表<br><code>net localgroup 组名</code> #查看组成员<br><code>net localgroup 组名 用户名 /add</code>#把用户添加到组中<br><code>net localgroup 组名 用户名 /del</code> # 从组中删除<br><code>net localgroup 组名 /add</code>#新建一个组</p>
<h1 id="服务器远端管理"><a href="#服务器远端管理" class="headerlink" title="服务器远端管理"></a>服务器远端管理</h1><h2 id="远程管理模型"><a href="#远程管理模型" class="headerlink" title="远程管理模型"></a>远程管理模型</h2><p>windows远程管理有两种类型：远程桌面（图形），telnet（命令行）</p>
<h2 id="远程桌面"><a href="#远程桌面" class="headerlink" title="远程桌面"></a>远程桌面</h2><p>拓扑图<br>客户机xp10.1.1.1————-Vmnet1————-服务器2003 10.1.1.2<br>步骤：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">首先配置网络，实现客户机与服务器可以互通</span><br><span class="line">服务器开启允许被远程控制：桌面右键属性—远程设置—选择允许—确定</span><br><span class="line">客户机上：开始--运行--输入mstsc 打开远程连接工具</span><br><span class="line">在mstsc工具上输入服务器的ip并点击确定</span><br><span class="line">输入服务器的账户密码</span><br></pre></td></tr></table></figure>
<p>注*：如使用非管理员账户登录远程，需要在服务器上将用户加入到远程桌面内置组Remote Desktop Users中</p>
<h2 id="telnet"><a href="#telnet" class="headerlink" title="telnet"></a>telnet</h2><p>服务器上：services.msc<br>客户机上：telnet 目标ip地址<br>netstat -an #查看本机开放的所有端口<br>telnet :23<br>远程桌面协议RD：3389</p>
<h1 id="破解windows系统密码"><a href="#破解windows系统密码" class="headerlink" title="破解windows系统密码"></a>破解windows系统密码</h1><h2 id="利用五次shift漏洞破解win7密码"><a href="#利用五次shift漏洞破解win7密码" class="headerlink" title="利用五次shift漏洞破解win7密码"></a>利用五次shift漏洞破解win7密码</h2><h3 id="漏洞"><a href="#漏洞" class="headerlink" title="漏洞"></a>漏洞</h3><p><code>未登录时，连续五次shift键，弹出c:\windows\system32\sethc.exe</code><br><code>部分win7及win10系统在未进入系统时，可以通过系统修复漏洞篡改系统文件名，如win7/win10已修补漏洞，则无法利用</code></p>
<h3 id="破解过程及相关知识"><a href="#破解过程及相关知识" class="headerlink" title="破解过程及相关知识"></a>破解过程及相关知识</h3><p>cmd工具路径c:\windows\system32\cmd<br>用户/账户密码存储位置 c:\windows\system32\config\SAM # 非逆型加密，使用hash值类似方法，Md5，SHA</p>
<h3 id="漏洞利用过程"><a href="#漏洞利用过程" class="headerlink" title="漏洞利用过程"></a>漏洞利用过程</h3><p>案例 破解win7系统密码<br>步骤</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">开启win7虚拟机，开机，并设置一个复杂密码</span><br><span class="line">关机，开机，在出现Windows的启动界面时强制关机</span><br><span class="line">再开机，出现&quot;启动修复(推荐)&quot;及选择选项。  # 未出现多试几次，如还不行，换其他方法</span><br><span class="line">出现系统还原提示，点击取消，等几分钟后，会出现问题原因，点击查看详细信息</span><br><span class="line">打开最后一个链接即记事本</span><br><span class="line">记事本中点击打开，并选择显示所有文件</span><br><span class="line">找到sethc并改名为sethc-bak，再找到cmd，复制一份cmd改名为sethc</span><br><span class="line">全部关闭，重启</span><br><span class="line">系统启动完毕后，连续五次shift键，弹出cmd工具，使用命令net user 用户名 新密码，将当前用户名密码修改即可(或者另外新建一个用户，提升为管理员，注销后可再删除新建用户，这样子的好处为不修改当前用户的密码就可以登录)</span><br></pre></td></tr></table></figure>

<h2 id="利用PE系统破解xp密码"><a href="#利用PE系统破解xp密码" class="headerlink" title="利用PE系统破解xp密码"></a>利用PE系统破解xp密码</h2><h3 id="漏洞-1"><a href="#漏洞-1" class="headerlink" title="漏洞"></a>漏洞</h3><p>PE系统独立于硬盘系统的微型系统，通过pe系统启动可以对系统的SAM文件做修改</p>
<h3 id="破解过程相关理论"><a href="#破解过程相关理论" class="headerlink" title="破解过程相关理论"></a>破解过程相关理论</h3><p>见8系列</p>
<h1 id="NTFS安全权限"><a href="#NTFS安全权限" class="headerlink" title="NTFS安全权限"></a>NTFS安全权限</h1><h2 id="NTFS权限概述"><a href="#NTFS权限概述" class="headerlink" title="NTFS权限概述"></a>NTFS权限概述</h2><p>1、通过设置NTFS权限，实现不同的用户访问不同的权限<br>2、分配了正确的访问权限后，才能访问其资源<br>3、设置权限防止资源被篡改、删除</p>
<h2 id="文件系统概述"><a href="#文件系统概述" class="headerlink" title="文件系统概述"></a>文件系统概述</h2><p>文件系统即外部存储设备上组织文件的方法<br>常用文件系统：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FAT windows</span><br><span class="line">NTFS windows</span><br><span class="line">EXT Linux常见</span><br></pre></td></tr></table></figure>
<p>格式化==制作文件系统<br>一个block只能被一个文件使用</p>
<h3 id="NTFS文件系统特点"><a href="#NTFS文件系统特点" class="headerlink" title="NTFS文件系统特点"></a>NTFS文件系统特点</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">提高磁盘读写性能</span><br><span class="line">可靠性、加密文件系统、访问控制列表(设置权限)ACL</span><br><span class="line">磁盘利用率、压缩、磁盘配额</span><br><span class="line">支持单个文件大于4G</span><br></pre></td></tr></table></figure>
<h2 id="修改NTFS权限"><a href="#修改NTFS权限" class="headerlink" title="修改NTFS权限"></a>修改NTFS权限</h2><h3 id="取消权限继承"><a href="#取消权限继承" class="headerlink" title="取消权限继承"></a>取消权限继承</h3><p>作用：取消后，可以任意修改权限列表<br>方法：文件夹右键属性–安全–高级–去掉第一个对号√–选择复制即可</p>
<h3 id="文件及文件夹权限"><a href="#文件及文件夹权限" class="headerlink" title="文件及文件夹权限"></a>文件及文件夹权限</h3><h4 id="文件权限-amp-amp-权限内容"><a href="#文件权限-amp-amp-权限内容" class="headerlink" title="文件权限  &amp;&amp;  权限内容"></a>文件权限  &amp;&amp;  权限内容</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">完全控制  &amp;&amp;  拥有读取、写入、修改、删除及特殊的权限</span><br><span class="line">修改  &amp;&amp;  拥有读取、写入、修改、删除的权限</span><br><span class="line">读取和执行  &amp;&amp;  拥有读取以及执行文件的权限</span><br><span class="line">读取  &amp;&amp;  拥有读取的权限</span><br><span class="line">写入  &amp;&amp;  拥有修改文件内容的权限</span><br><span class="line">特殊权限  &amp;&amp;  拥有控制文件权限列表的权限</span><br></pre></td></tr></table></figure>
<h4 id="文件夹权限-权限内容"><a href="#文件夹权限-权限内容" class="headerlink" title="文件夹权限  ** 权限内容"></a>文件夹权限  ** 权限内容</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">完全控制  **  拥有对文件夹中文件的读取、写入、修改、删除及特殊的权限</span><br><span class="line">修改  **  拥有对文件夹中文件的读取、写入、修改的权限</span><br><span class="line">读取和执行  **  拥有对文件夹中文件的读取以及执行的权限</span><br><span class="line">列出文件夹内容  **  可以列出文件夹的内容</span><br><span class="line">读取  **  拥有对文件夹中文件的下载、读取的权限</span><br><span class="line">写入  **  拥有对文件夹中文件修改的权限</span><br><span class="line">特殊权限  **  拥有控制文件夹权限列表的权限</span><br></pre></td></tr></table></figure>
<h3 id="权限累加"><a href="#权限累加" class="headerlink" title="权限累加"></a>权限累加</h3><p>当用户属于多个组时，权限是累加的！</p>
<h3 id="拒绝最大"><a href="#拒绝最大" class="headerlink" title="拒绝最大"></a>拒绝最大</h3><p>当用户权限累加时，如遇到拒绝权限，拒绝最大！</p>
<h3 id="取得所有权"><a href="#取得所有权" class="headerlink" title="取得所有权"></a>取得所有权</h3><p>默认只有administrator有这个权限<br>作用：可以将任何文件夹的所有者改为administrator</p>
<h3 id="强制继承"><a href="#强制继承" class="headerlink" title="强制继承"></a>强制继承</h3><p>作用：对下强制继承父子关系<br>方法：文件夹右键属性–安全–高级–勾上第二个对号√ 即可</p>
<h3 id="文件复制对权限的影响"><a href="#文件复制对权限的影响" class="headerlink" title="文件复制对权限的影响"></a>文件复制对权限的影响</h3><p>文件复制后，文件的权限会被目标文件夹的权限覆盖</p>
<h1 id="文件共享服务器"><a href="#文件共享服务器" class="headerlink" title="文件共享服务器"></a>文件共享服务器</h1><h2 id="共享服务器概述"><a href="#共享服务器概述" class="headerlink" title="共享服务器概述"></a>共享服务器概述</h2><p>通过网络提供文件共享服务，提供文件下载和上传服务(类似ftp服务器)   (CIFS 微软)</p>
<h2 id="创建共享"><a href="#创建共享" class="headerlink" title="创建共享"></a>创建共享</h2><p>方法：文件夹右键属性–共享–开启共享–设置共享名–设置共享权限<br>注*：<br>本地登录时，只受NTFS权限影响<br>在远程登录时，将受共享及NTFS权限的共同影响<br>所以建议设置共享权限为everyone完全控制，然后具体权限需求在NTFS权限设置即可</p>
<h2 id="访问共享"><a href="#访问共享" class="headerlink" title="访问共享"></a>访问共享</h2><p>在<code>开始运行</code>/<code>我的电脑</code>地址栏输入<code>UNC地址</code>:<br>\文件共享服务器IP<br>\文件共享服务器IP\共享名</p>
<h2 id="创建隐藏的共享"><a href="#创建隐藏的共享" class="headerlink" title="创建隐藏的共享"></a>创建隐藏的共享</h2><p>方法：共享名$</p>
<h2 id="访问隐藏共享的方法"><a href="#访问隐藏共享的方法" class="headerlink" title="访问隐藏共享的方法"></a>访问隐藏共享的方法</h2><p>\服务器IP\共享名$</p>
<h2 id="共享相关命令"><a href="#共享相关命令" class="headerlink" title="共享相关命令"></a>共享相关命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">net share   #列出共享列表</span><br><span class="line">net share 共享名 &#x2F;del   #删除共享</span><br></pre></td></tr></table></figure>
<h2 id="屏蔽系统隐藏共享自动产生"><a href="#屏蔽系统隐藏共享自动产生" class="headerlink" title="屏蔽系统隐藏共享自动产生"></a>屏蔽系统隐藏共享自动产生</h2><h3 id="打开注册表的编辑器：regedit"><a href="#打开注册表的编辑器：regedit" class="headerlink" title="打开注册表的编辑器：regedit"></a>打开注册表的编辑器：regedit</h3><h3 id="定位共享注册表位置"><a href="#定位共享注册表位置" class="headerlink" title="定位共享注册表位置"></a>定位共享注册表位置</h3><p>HKEY_Local_MACHINE\System\CurrentControlSet\Services\Lanmanserver\Parameters<br>右键新建REG_DWORD类型的AutoShareServer键，值为0</p>
<h2 id="查看本地网络连接状态"><a href="#查看本地网络连接状态" class="headerlink" title="查看本地网络连接状态"></a>查看本地网络连接状态</h2><p>netstat -an          （3389 桌面  23 telnet协议   445 文件共享服务)</p>
<h2 id="关闭445服务"><a href="#关闭445服务" class="headerlink" title="关闭445服务"></a>关闭445服务</h2><p>可以通过445端口来屏蔽病毒传入(如勒索病毒)<br>方法1：打开services.msc，并停止及禁用server服务<br>方法2：禁止被访问445，配置高级安全防火墙-入站规则(win7及以上，win2008及以上)</p>
<h1 id="DNS部署与安全"><a href="#DNS部署与安全" class="headerlink" title="DNS部署与安全"></a>DNS部署与安全</h1><h2 id="DNS-1"><a href="#DNS-1" class="headerlink" title="DNS"></a>DNS</h2><p>Domain Name Service 域名服务<br>作用：为客户机提供域名解析服务</p>
<h2 id="域名组成"><a href="#域名组成" class="headerlink" title="域名组成"></a>域名组成</h2><h3 id="域名组成概述"><a href="#域名组成概述" class="headerlink" title="域名组成概述"></a>域名组成概述</h3><p>如<a href="http://www.sina.com.cn" target="_blank" rel="noopener">www.sina.com.cn</a> 是一个域名，从严格意义上讲，<code>sina.com.cn</code> 才被称为域名(全球唯一)，而<code>www</code>是主机名<br>“主机名.域名”称为完全限定域名(FQDN)，一个域名下可以有各个主机，域名全球唯一，那么”主机名.域名”也肯定是全球唯一<br>以”sina.com.cn”域名为例，一般管理员在命名其主机的时候会根据其主机的功能而命名，比如网站是www，博客是blog，论坛的是bbs，那么对应的FQDN为<a href="http://www.sina.com.cn" target="_blank" rel="noopener">www.sina.com.cn</a> ,  blog.sina.com.cn ,  bbs.sina.com.cn ，这多个FQDN然鹅只需要申请一个域名即可</p>
<h3 id="域名组成-1"><a href="#域名组成-1" class="headerlink" title="域名组成"></a>域名组成</h3><p>根域<br>顶级域<br>——-国家顶级域 cn,jp,hk,uk<br>——-商业顶级域<br>——————com 商业机构<br>——————gov 政府机构<br>——————mil 军事机构<br>——————edu 教育机构<br>——————org 民间组织机构<br>——————net 互联网<br>二级域<br>三级域<br>···<br>###############################<br>如<a href="http://www.baidu.com" target="_blank" rel="noopener">www.baidu.com</a><br>. 为根域<br>.com 为顶级域<br>baidu 为二级域名<br>www 为主机名</p>
<p>FQDN=主机名.DNS后缀  (完整合格的域名)</p>
<h2 id="监听窗口"><a href="#监听窗口" class="headerlink" title="监听窗口"></a>监听窗口</h2><p>TCP53<br>UDP53</p>
<h2 id="DNS解析种类"><a href="#DNS解析种类" class="headerlink" title="DNS解析种类"></a>DNS解析种类</h2><h3 id="按照查询方式分类"><a href="#按照查询方式分类" class="headerlink" title="按照查询方式分类"></a>按照查询方式分类</h3><p>1）递归查询：客户机与本地DNS服务器之间<br>2）迭代查询：本地DNS服务器与根等其他DNS服务器的解析过程<br>DNS解析过程：</p>
<img src="/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/DNS%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B.png" class="">
<h3 id="按照查询内容分类"><a href="#按照查询内容分类" class="headerlink" title="按照查询内容分类"></a>按照查询内容分类</h3><p>1）正向解析：已知域名，解析IP地址<br>2）反向解析：已知IP地址，解析域名</p>
<h2 id="DNS服务器搭建过程"><a href="#DNS服务器搭建过程" class="headerlink" title="DNS服务器搭建过程"></a>DNS服务器搭建过程</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">要求网卡IP是静态IP地址</span><br><span class="line">安装DNS服务器插件(也就是安装并开启TCP及UDP53端口)</span><br><span class="line">创建区域文件(负责一个域名后缀的解析，如baidu.com为域名后缀，一台DNS服务器内课存放多个区域文件)</span><br><span class="line">新建A记录</span><br></pre></td></tr></table></figure>
<h2 id="DNS请求顺序"><a href="#DNS请求顺序" class="headerlink" title="DNS请求顺序"></a>DNS请求顺序</h2><p>客户机处理DNS请求顺序：DNS缓存–本地hosts文件–找本地DNS服务器<br>服务器处理DNS请求顺序：DNS高速缓存–本地区域解析文件–转发器– 根</p>
<h2 id="DNS服务器分类"><a href="#DNS服务器分类" class="headerlink" title="DNS服务器分类"></a>DNS服务器分类</h2><p>主要名称服务器<br>辅助名称服务器<br>根名称服务器<br>高速缓存名称服务器</p>
<h2 id="辅助DNS服务器"><a href="#辅助DNS服务器" class="headerlink" title="辅助DNS服务器"></a>辅助DNS服务器</h2><h2 id="清除DNS缓存"><a href="#清除DNS缓存" class="headerlink" title="清除DNS缓存"></a>清除DNS缓存</h2><h3 id="客户机上清除缓存"><a href="#客户机上清除缓存" class="headerlink" title="客户机上清除缓存"></a>客户机上清除缓存</h3><p><code>ipconfig /flushdns</code></p>
<h3 id="服务器上清除缓存"><a href="#服务器上清除缓存" class="headerlink" title="服务器上清除缓存"></a>服务器上清除缓存</h3><p>windows服务器：dns工具–查看–高级–调出缓存–右键清除缓存</p>
<h2 id="域名解析记录类型"><a href="#域名解析记录类型" class="headerlink" title="域名解析记录类型"></a>域名解析记录类型</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A记录：正向解析记录</span><br><span class="line">CNAME：别名</span><br><span class="line">PTR记录：反向解析记录</span><br><span class="line">MX：邮件交换记录</span><br><span class="line">NS：域名服务器解析</span><br></pre></td></tr></table></figure>
<h2 id="反向DNS"><a href="#反向DNS" class="headerlink" title="反向DNS"></a>反向DNS</h2><p>nslookup 手工解析时，会进行一个反向解析</p>
<h2 id="具体DNS配置步骤"><a href="#具体DNS配置步骤" class="headerlink" title="具体DNS配置步骤"></a>具体DNS配置步骤</h2><p><a href="https://www.bilibili.com/video/BV1i7411G7vm?p=30" target="_blank" rel="noopener">b站视频</a></p>
<h1 id="DHCP部署与安全"><a href="#DHCP部署与安全" class="headerlink" title="DHCP部署与安全"></a>DHCP部署与安全</h1><h2 id="DHCP作用"><a href="#DHCP作用" class="headerlink" title="DHCP作用"></a>DHCP作用</h2><p>自动分配IP地址  Dynamic Host Configuration Protocol  动态主机配置协议</p>
<h2 id="DHCP相关概念"><a href="#DHCP相关概念" class="headerlink" title="DHCP相关概念"></a>DHCP相关概念</h2><p>地址池/作用域：(IP、子网掩码、网关、DNS、租期)DHCP协议端口 UDP 67/68</p>
<h2 id="DHCP优点"><a href="#DHCP优点" class="headerlink" title="DHCP优点"></a>DHCP优点</h2><p>减少工作量、避免IP冲突、提高地址利用率</p>
<h2 id="DHCP原理"><a href="#DHCP原理" class="headerlink" title="DHCP原理"></a>DHCP原理</h2><p>(也成为DHCP租约过程，约4个步骤)<br>1）客户机发送DHCP Discovery广播包<br><code>客户机广播请求IP地址(包含客户机的MAC地址)</code><br>2）服务器响应DHCP Offer广播包<br><code>服务器相应提供的IP地址(但无子网掩码、网关等参数)</code><br>3）客户机发送DHCP Request广播包<br><code>客户机选择IP(也可以认为确认使用哪个IP)</code><br>4）服务器发送DHCP ACK广播包<br><code>服务器确定了租约，并提供网卡详细参数IP、掩码、网关、租期等</code></p>
<h2 id="DHCP续约"><a href="#DHCP续约" class="headerlink" title="DHCP续约"></a>DHCP续约</h2><p>50%过后，客户机会再次发送DHCP Request包，进行续约，如服务器无响应，则继续使用并在87.5%再次发送DHCP Request包，如仍然无响应，并释放IP地址及重新发送DHCP Discovery广播包来获取IP地址<br>当无任何服务器响应时，自己给自己分配一个169.254.X.X/16，属于全球统一无效地址，用于临时内网通信</p>
<h2 id="部署DHCP服务器"><a href="#部署DHCP服务器" class="headerlink" title="部署DHCP服务器"></a>部署DHCP服务器</h2><p>1）IP地址固定(服务器必须固定IP地址)<br>2）安装DHCP服务插件<br>3）新建作用域及作用域选项<br>4）激活<br>5）客户机验证</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ipconfig &#x2F;release  释放IP(取消租约，或改为手动配置IP，也可以释放租约)</span><br><span class="line">ipconfig &#x2F;renew  重新获取IP(有IP时发送request续约，无IP时发送Discovery重新获取IP)</span><br></pre></td></tr></table></figure>
<h2 id="地址保留"><a href="#地址保留" class="headerlink" title="地址保留"></a>地址保留</h2><p>对指定的MAC地址，固定动态分配IP地址</p>
<h2 id="选项优先级"><a href="#选项优先级" class="headerlink" title="选项优先级"></a>选项优先级</h2><p>作用域选项&gt;服务器选项<br>当服务器上有多个作用域时，可以在服务器选项上设置DNS服务器</p>
<h2 id="DHCP备份"><a href="#DHCP备份" class="headerlink" title="DHCP备份"></a>DHCP备份</h2><p>右键</p>
<h2 id="DHCP攻击与防御"><a href="#DHCP攻击与防御" class="headerlink" title="DHCP攻击与防御"></a>DHCP攻击与防御</h2><p>1）攻击DHCP服务器：频繁的发送伪装的DHCP请求，直到将DHCP地址资源耗尽<br>      防御：在交换机上(管理型交换机)的端口上做动态MAC地址分配</p>
<p>2）伪装DHCP服务器攻击：hack通过将自己部署为DHCP服务器，为客户机提供非法IP地址<br>      防御：在交换机上，除合法的DHCP服务器所在接口外，全部设置为禁止发送DHCP Offer包(管理型交换机)</p>
<h1 id="IIS之web服务器"><a href="#IIS之web服务器" class="headerlink" title="IIS之web服务器"></a>IIS之web服务器</h1><ol>
<li>web服务器也称为网页服务器或HTTP服务器</li>
<li>web服务器使用的协议是HTTP或HTTPS</li>
<li><code>HTTP协议端口号：TCP 80</code>，<code>HTPPS协议端口号：TCP 443</code></li>
<li>WEB服务器发布软件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">微软：IIS  互联网信息服务(可以发布web网站和ftp站点)</span><br><span class="line">Linux：Apache、LAMP、Tomcat、nginx、、、、</span><br><span class="line">第三方(实验用)：phpstudy、XAMPP</span><br></pre></td></tr></table></figure></li>
<li>部署web服务器<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">配置静态IP地址</span><br><span class="line">安装IIS-WEB插件</span><br><span class="line">使用默认站点</span><br><span class="line">新建网站--地址端口绑定--指定站点路径--设置权限</span><br><span class="line">设置默认文档(设置首页)</span><br></pre></td></tr></table></figure></li>
<li>一台服务器发布多个web站点<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">不同的IP，相同的端口</span><br><span class="line">相同的IP，不同的端口</span><br><span class="line">相同的IP，相同的端口，不同的域名(主机头)</span><br></pre></td></tr></table></figure></li>
<li>站点类型<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">静态网站：一般扩展名为.htm或.html(无后台数据库)</span><br><span class="line">动态网站：一般扩展名为.asp或.php(有后台数据库，asp或php可以连接前台页面与后台数据库)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h1 id="IIS之FTP服务器"><a href="#IIS之FTP服务器" class="headerlink" title="IIS之FTP服务器"></a>IIS之FTP服务器</h1><h2 id="File-Transfor-Protocol"><a href="#File-Transfor-Protocol" class="headerlink" title="File Transfor Protocol"></a>File Transfor Protocol</h2><p>文件传输协议</p>
<h2 id="端口号"><a href="#端口号" class="headerlink" title="端口号"></a>端口号</h2><p>TCP 20/21</p>
<h2 id="FTP工作方式"><a href="#FTP工作方式" class="headerlink" title="FTP工作方式"></a>FTP工作方式</h2><p>1)主动模式<br>21端口：控制端口<br>20端口：数据端口</p>
<img src="/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%B8%BB%E5%8A%A8%E6%A8%A1%E5%BC%8F.png" class="">
<p>2)被动模式<br>21端口+随机端口作为数据传输端口</p>
<img src="/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E8%A2%AB%E5%8A%A8%E6%A8%A1%E5%BC%8F.png" class="">
<p>注意：<br>主被动模式，阐述的是数据传输过程<br>主被动模式，选择权在客户机上<br>主被动模式，所谓主或被是站在服务器的角度</p>
<h2 id="部署FTP服务器"><a href="#部署FTP服务器" class="headerlink" title="部署FTP服务器"></a>部署FTP服务器</h2><p>1)配置静态IP<br>2)安装IIS-ftp软件<br>3)使用默认站点或创建新的站点<br>注：用户最终权限为FTP权限与NTFS权限取交集<br>建议：FTP权限全部勾选，然后具体的NTFS里做<br>4)去掉匿名访问对勾</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">作业：</span><br><span class="line">同时发布2个动态网站，并成功分别用域名访问</span><br><span class="line">使用IIS实现学校FTP服务器的访问效果</span><br></pre></td></tr></table></figure>

<h1 id="域"><a href="#域" class="headerlink" title="域"></a>域</h1><h2 id="Domain"><a href="#Domain" class="headerlink" title="Domain"></a>Domain</h2><h2 id="内网环境"><a href="#内网环境" class="headerlink" title="内网环境"></a>内网环境</h2><p>1)工作组：默认模式，人人平等，不方便管理<br>2)域：人人不平等，集中管理，同一管理</p>
<h2 id="域的特点"><a href="#域的特点" class="headerlink" title="域的特点"></a>域的特点</h2><p>集中/统一管理</p>
<h2 id="域的组成"><a href="#域的组成" class="headerlink" title="域的组成"></a>域的组成</h2><p>1)域控制器：DC(Domain Controller)<br>2)成员机</p>
<h2 id="域的部署"><a href="#域的部署" class="headerlink" title="域的部署"></a>域的部署</h2><p>1)安装域控制器–就生成了域环境<br>2)安装了活动目录–就生成了域控制器<br>3)活动目录：Active Directory=AD</p>
<h2 id="活动目录"><a href="#活动目录" class="headerlink" title="活动目录"></a>活动目录</h2><p>1)AD<br>2)特点：集中管理/统一管理</p>
<h2 id="组策略GPO"><a href="#组策略GPO" class="headerlink" title="组策略GPO"></a>组策略GPO</h2><h2 id="部署安装活动目录"><a href="#部署安装活动目录" class="headerlink" title="部署安装活动目录"></a>部署安装活动目录</h2><p>1)开启2008虚拟机，连接到vmnet2<br>2)配置静态IP地址10.1.1.1<br>3)开始-运行-输入dcpromo，安装活动目录：<br>弹出向导-新林中新建域-功能级别都设置为2003-域的FQDN(xxx.com)-<strong>设置目录服务还原密码</strong>-勾选安装后自动重启<br>4)在DC上登录域<code>**\administrator</code>—DC的本地管理员升级为域管理员<br>5)验证AD是否安装成功：<br>计算机右键属性-所属域<br>DNS服务器中是否自动创建**.com区域文件<br>自动注册DC的域名解析记录<br>开始-管理工具-AD用户和计算机(computer：普通域成员机列表、Domain Controller：DC列表、users：域账号)</p>
<h2 id="PC加入域"><a href="#PC加入域" class="headerlink" title="PC加入域"></a>PC加入域</h2><p>1.配置IP，并指DNS<br>2.计算机右键属性–更改–加入**.com<br>3.重启加入域后，成功使用域用户登录成员机</p>
<h2 id="常见小问题"><a href="#常见小问题" class="headerlink" title="常见小问题"></a>常见小问题</h2><p>加入域不成功</p>
<ol>
<li>网络是不是不通</li>
<li>解析是否能成功解析</li>
<li>是否为DNS缓存问题</li>
</ol>
<p>登入域不成功</p>
<p>域用户的权限</p>
<ol>
<li>建议将域用户加入到普通成员机的本地管理员组中</li>
</ol>
<p><strong>本地管理员组：administrators</strong><br><strong>域管理员组：Domain Admins</strong></p>
<h2 id="OU：组织单位"><a href="#OU：组织单位" class="headerlink" title="OU：组织单位"></a>OU：组织单位</h2><p>作用：用于归类域资源（域用户、域计算机、域。。。）</p>
<h2 id="组策略：Group-Policy-GPO"><a href="#组策略：Group-Policy-GPO" class="headerlink" title="组策略：Group Policy=GPO"></a>组策略：Group Policy=GPO</h2><p>作用：通过组策略可以修改计算机的各种属性，如开始桌面、桌面背景、网络参数等。<br><strong>重点</strong><br>组策略在域中，是基于OU发下来的！！！<br>组策略在域中下发后，用户的应用顺序是：LSDOU<br>在应用过程中，如果出现冲突，后应用的生效<br>组策略的组织继承及强制1</p>
<p><strong>正常情况下：LSDOU顺序</strong><br>上级OU： 桌面：aa 运行：删除<br>下级OU： 桌面：未配置  运行：不删除<br>下级OU用户结果：桌面：aa 运行：不删除</p>
<p><strong>下级OU设置了阻止继承</strong><br>上级OU：桌面：aa  运行：删除<br>桌面OU：桌面：未配置   运行：不删除<br>下级OU的用户结果： 桌面：未配置  运行：不删除</p>
<p><strong>上级设置了强制</strong><br>上级OU：桌面：aa  运行：删除<br>下级OU：桌面：未配置   运行：不删除<br>下级OU的用户结果： 桌面：aa  运行：删除</p>
<p><em>注意：当上级强制和下级阻值继承同时设置，强制生效！</em></p>
<h2 id="复习"><a href="#复习" class="headerlink" title="复习"></a>复习</h2><p>域的特点：集中管理<br>活动目录的特点：集中管理</p>
<p>域Domain<br>域控制器Domain Controller=DC<br>活动目录Active Directory=AD</p>
<p>在域中，组策略的应用顺序是：LSDOU</p>
<h1 id="PKI"><a href="#PKI" class="headerlink" title="PKI"></a>PKI</h1><h2 id="PKI概述"><a href="#PKI概述" class="headerlink" title="PKI概述"></a>PKI概述</h2><p><code>名称</code>：Public Key Infrastructure 公钥基础设施<br><code>作用</code>：通过加密技术和数字签名保证信息的安全<br><code>组成</code>：公钥加密技术、数字证书、CA、RA</p>
<h2 id="信息安全三要素"><a href="#信息安全三要素" class="headerlink" title="信息安全三要素"></a>信息安全三要素</h2><ol>
<li><code>机密性</code></li>
<li><code>完整性</code></li>
<li><code>身份验证/操作的不可否认性</code></li>
</ol>
<h2 id="哪些IT领域用到PKI"><a href="#哪些IT领域用到PKI" class="headerlink" title="哪些IT领域用到PKI"></a>哪些IT领域用到PKI</h2><ol>
<li>SSL/HTTPS</li>
<li>IPsecVPN</li>
<li>部分远程访问VPN</li>
</ol>
<h2 id="公钥加密技术"><a href="#公钥加密技术" class="headerlink" title="公钥加密技术"></a>公钥加密技术</h2><p><code>作用</code>：实现对<code>信息加密</code>、<code>数字签名</code>等安全保障<br><strong>加密算法</strong>：</p>
<ol>
<li>对称加密算法<br>加解密的密钥一致！<br>例：DES、3DES、AES</li>
<li>非对称加密算法<br>通信双方各自产生一对公私钥<br>双方各自交换公钥<br>公钥和私钥互相加解密关系<br>公私钥不可互相推逆<br>例：RSA、DH</li>
</ol>
<p><code>x+5=y(对称加密算法)</code>，x是原数据/原文，y是密文，5是key/密钥</p>
<p>HASH算法：MD5、SHA(验证完整性)<br>HASH值可逆吗？不可逆！<br>HASH值=摘要</p>
<h2 id="数字签名"><a href="#数字签名" class="headerlink" title="数字签名"></a>数字签名</h2><p>用自己的私钥对摘要加密得出的密文就是数字签名</p>
<h2 id="证书"><a href="#证书" class="headerlink" title="证书"></a>证书</h2><p>证书用于保证密钥的合法性<br>证书格式遵循X.509标准<br>数字证书包含信息：</p>
<ol>
<li>使用者的公钥值</li>
<li>使用者标识信息(如名称和电子邮件地址)</li>
<li>有效期(证书的有效时间)</li>
<li>颁发者标识信息</li>
<li>颁发者的数字签名</li>
</ol>
<p>数字证书由权威公正的第三方机构即CA签发</p>
<p>CA是权威证书颁发机构，为了公正”公钥”的合法性！<br>机密性：使用对方的公钥加密！<br>身份验证/数字签名：使用自己的私钥！</p>
<h2 id="渗透简单测试"><a href="#渗透简单测试" class="headerlink" title="渗透简单测试"></a>渗透简单测试</h2><ol>
<li>授权</li>
<li>信息收集<br>nslookup、whois、</li>
<li>扫描漏洞<br>namp=ip范围 端口(IIS、apache，什么网站)<br>高级扫描：<br>如IIS漏洞2003-IIS6.0、2008-IIS7.0<br>扫描网站漏洞</li>
<li>漏洞利用</li>
<li>提权(shell环境、桌面、最高权限)</li>
</ol>
<hr>
<ol start="6">
<li>毁尸灭迹</li>
<li>留后门</li>
<li>渗透测试报告</li>
</ol>
<hr>
<p>手工测试端口号开放：<br>telnet IP地址 测试端口</p>
<ol>
<li><p>scanport扫描445端口</p>
</li>
<li><p>漏洞利用之IPC$:<br>进行暴力破解:NTscan<br>暴力破解系统密码之445</p>
</li>
<li><p>命令行控制对方</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">net use f: \\ip地址\文件夹 密码 &#x2F;user:用户</span><br><span class="line">net use f： &#x2F;del</span><br><span class="line">net use * &#x2F;del</span><br><span class="line">net use f: \\ip地址\c$ 密码 &#x2F;user:用户</span><br><span class="line">net use f: \\ip地址\ipc$ 密码 &#x2F;user:用户</span><br></pre></td></tr></table></figure></li>
<li><p>制作木马<br>灰鸽子软件制作木马</p>
</li>
<li><p>copy植入木马(留后门)<br>copy D:\muma.exe \ip地址\c$</p>
</li>
<li><p>设置计划任务自动执行木马：<br>net time \ip地址<br>at \ip地址 时间 “路径”<br>等待</p>
</li>
<li><p>等待肉鸡上线</p>
</li>
</ol>
<h1 id="扫描与爆破"><a href="#扫描与爆破" class="headerlink" title="扫描与爆破"></a>扫描与爆破</h1><p>nmap、hydra</p>
<h2 id="扫描技术"><a href="#扫描技术" class="headerlink" title="扫描技术"></a>扫描技术</h2><p>手工与工具想结合</p>
<p>主机探测与端口扫描<br>主机探测是指确定目标主机是否存活<br>端口扫描就是寻找在线主机所开放的端口，并且在端口上所运行的服务。甚至可以进一步确定目标主机操作系统类型和更详细的信息</p>
<h3 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h3><table>
<thead>
<tr>
<th align="center">端口号</th>
<th align="center">协议</th>
<th align="center">端口号</th>
<th align="center">协议</th>
</tr>
</thead>
<tbody><tr>
<td align="center">21</td>
<td align="center">FTP</td>
<td align="center">44</td>
<td align="center">HTTPS</td>
</tr>
<tr>
<td align="center">22</td>
<td align="center">SSH</td>
<td align="center">1433</td>
<td align="center">SQL Server</td>
</tr>
<tr>
<td align="center">23</td>
<td align="center">Telnet</td>
<td align="center">1521</td>
<td align="center">Oracle</td>
</tr>
<tr>
<td align="center">25</td>
<td align="center">SMTP</td>
<td align="center">3306</td>
<td align="center">MySQL</td>
</tr>
<tr>
<td align="center">80</td>
<td align="center">HTTP</td>
<td align="center">3389</td>
<td align="center">RDP</td>
</tr>
</tbody></table>
<p>nmap–扫描器之王</p>
<p>重要常用参数：</p>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-sP</td>
<td align="center">ping</td>
</tr>
<tr>
<td align="center">-p</td>
<td align="center">指定端口范围</td>
</tr>
<tr>
<td align="center">-sV</td>
<td align="center">服务版本探测</td>
</tr>
<tr>
<td align="center">-O</td>
<td align="center">启用操作系统探测</td>
</tr>
<tr>
<td align="center">-A</td>
<td align="center">全面扫描</td>
</tr>
<tr>
<td align="center">-oN</td>
<td align="center">保存txt</td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nmap -sP 10.1.1.1&#x2F;24 (ip地址&#x2F;24) 扫描10.1.1.0整个网段</span><br><span class="line">nmap -p 21,23-25,3389 10.1.1.1&#x2F;24 扫描端口</span><br><span class="line">nmap -p 21,23 10.1.1.1 -sV 扫描21,23的服务版本</span><br><span class="line">nmap -A 10.1.1.1 全面扫描</span><br><span class="line">nmap -O 10.1.1.1 扫描目标系统版本</span><br><span class="line">nmap -p 21,23 10.1.1.1 -oN d:\result.text 生成扫描文档</span><br></pre></td></tr></table></figure>

<p>九头蛇 hydra<br><code>hydra -l 用户名 -p 123 10.1.1.1 telnet</code></p>
<p>如：(pass.txt需要提前建立)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">hydra -l a -p e:\pass.txt 10.1.1.1 telnet</span><br><span class="line">hydra -l a -p e:\pass.txt 10.1.1.1 rdp</span><br><span class="line">hydra -l a -p e:\pass.txt 10.1.1.1 smb</span><br><span class="line">hydra -l a -p e:\pass.txt 10.1.1.1 ftp</span><br><span class="line">hydra -l a -p e:\pass.txt 10.1.1.1 ssh</span><br><span class="line">hydra -l a -p e:\pass.txt 10.1.1.1 mysql</span><br><span class="line">hydra -L e:\user.txt -P e:\pass.txt 10.1.1.1 telnet</span><br></pre></td></tr></table></figure>


<h1 id="OSI与TCP-IP5层协议"><a href="#OSI与TCP-IP5层协议" class="headerlink" title="OSI与TCP-IP5层协议"></a>OSI与TCP-IP5层协议</h1><h2 id="分层模型"><a href="#分层模型" class="headerlink" title="分层模型"></a>分层模型</h2><h3 id="分层思想"><a href="#分层思想" class="headerlink" title="分层思想"></a>分层思想</h3><p>通信需求 -&gt; 定义协议标准</p>
<p>完成每一件事，需要的协议太多！怎么办？—-分层</p>
<p>将<code>复杂的流程</code>分解为<code>几个功能相对单一的子过程</code></p>
<ol>
<li>整个流程更加清晰，<code>复杂问题简单化</code></li>
<li>更容易发现问题并针对性的解决问题</li>
</ol>
<p>下层为上层服务</p>
<h3 id="OSI七层模型"><a href="#OSI七层模型" class="headerlink" title="OSI七层模型"></a>OSI七层模型</h3><p>Open System interconnection<br>OSI七层模型</p>
<img src="/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/OSI%E4%B8%83%E5%B1%82%E6%A8%A1%E5%9E%8B.png" class="">

<h3 id="TCP-IP-5层协议簇-协议栈"><a href="#TCP-IP-5层协议簇-协议栈" class="headerlink" title="TCP/IP 5层协议簇/协议栈"></a>TCP/IP 5层协议簇/协议栈</h3><p>层与设备的对应关系<br>传输 | 层 | 举例 | 协议<br>:—-:  | :—-: | :—-: |:—-:|<br>数据/PDU | 应用层 | PC/防火墙 | HTTP(80) HTTPS(443) SSH(22) Telnet(23) FTP(20/21) DHCP(67/68) SMTP(25) POP3(110) RDP(3389) SMB(445) Mysql(3306) DNS(53)<br>数据段/段Fragment | 传输层 | 防火墙 | TCP UDP<br>报文/包packet/IP包 | 网络层 | 路由器 | ICMP IP ARP<br>帧Frame | 数据链路层 | 交换机/网卡 | MAC子层协议<br>比特bit | 物理层 | 网线 | 比特流</p>
<img src="/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E6%95%B0%E6%8D%AE%E5%B0%81%E8%A3%85%E5%85%B3%E8%81%94%E5%9B%BE.jpg" class="">
<p>1 Byte字节 = 8 bit位</p>
<h2 id="数据传输过程"><a href="#数据传输过程" class="headerlink" title="数据传输过程"></a>数据传输过程</h2><h3 id="数据封装与解封装过程"><a href="#数据封装与解封装过程" class="headerlink" title="数据封装与解封装过程"></a>数据封装与解封装过程</h3><p>各层间通信</p>


<h2 id="物理层-physical-layer"><a href="#物理层-physical-layer" class="headerlink" title="物理层 physical layer"></a>物理层 physical layer</h2><ol>
<li>网线/光纤/空气</li>
<li>比特bit<br>1 Byte字节 = 8 bit位<br>1024 B = 1 KB<br>1024 KB = 1 MB<br>1024 MB = 1 GB<br>1024 GB = 1 TB<br>1024 TB = 1 PB</li>
<li>信号：(模拟信号、数字信号) = 电信号<br>放大器、中继器<br>光信号：<br>光纤类型：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">单模光纤:一般黄色</span><br><span class="line">多模光纤:一般橙色&#x2F;蓝色</span><br></pre></td></tr></table></figure></li>
<li>网线/双绞线<br>5类双绞线<br>超5类<br>6类 7类<br>T568A:白绿、绿、白橙、蓝、白蓝、橙、白棕、棕<br>T568B:白橙、橙、白绿、蓝、白蓝、绿、白棕、棕<br>网线的用途分类：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">交叉线：一端为A，一端为B，同种设备间使用！</span><br><span class="line">直通线：两端都是A或都是B，异种设备间使用！</span><br><span class="line">全反线：一端为A，另一端为反A，也称console线</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="PT软件"><a href="#PT软件" class="headerlink" title="PT软件"></a>PT软件</h2><p>Ethernet 10Mb/s<br>FastEthernet 100Mb/s<br>GigabitEthernet 1000Mb/s<br>TenGigabitEthernet 10000Mb/s</p>
<p>f1/4<br>g0/3<br>0：模块号<br>3：接口号</p>
<h2 id="数据链路层-2层-Data-Link-Layer"><a href="#数据链路层-2层-Data-Link-Layer" class="headerlink" title="数据链路层(2层 Data Link Layer)"></a>数据链路层(2层 Data Link Layer)</h2><h3 id="属于2层"><a href="#属于2层" class="headerlink" title="属于2层"></a>属于2层</h3><h3 id="传输单元：帧"><a href="#传输单元：帧" class="headerlink" title="传输单元：帧"></a>传输单元：帧</h3><h3 id="帧结构："><a href="#帧结构：" class="headerlink" title="帧结构："></a>帧结构：</h3><p>类型字段的作用：识别上层协议，为上层提供服务</p>
<img src="/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E5%B8%A7%E7%BB%93%E6%9E%84.png" class="">
<p>MAC地址：也叫物理地址，是全球唯一的！长度：48位、6字节<br>帧头：6+6+2=14字节(目标MAC6字节、源MAC6字节、类型2字节)<br>帧尾：4字节<br>最长的帧：1518字节<br>MTU值：1500字节(国内1500字节)<br>0x0800：上层为IP协议<br>0x0806：上层为ARP协议</p>
<h3 id="工作在数据链路层的设备"><a href="#工作在数据链路层的设备" class="headerlink" title="工作在数据链路层的设备"></a>工作在数据链路层的设备</h3><p>交换机/网卡<br><strong>交换机工作原理</strong><br>AA-&gt;DD</p>
<img src="/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%861.png" class="">
<p>MAC地址表越完整越好</p>
<img src="/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%862.png" class="">
<p><code>收到一个数据帧后：</code><br>首先学习帧中的源MAC地址来形成MAC地址表(如果有的话看看跟之前的表是否吻合，不吻合则更新)<br>然后检查帧中的目标MAC地址，并匹配MAC地址表(如表中有匹配项，则单播转发；如表中无匹配项，则除接收端口外广播转发)<br>MAC地址表的老化时间默认300s(可修改)</p>
<h3 id="交换机的端口"><a href="#交换机的端口" class="headerlink" title="交换机的端口"></a>交换机的端口</h3><p>E 10Mb<br>F 100Mb<br>G 1000Mb<br>Te 10000Mb<br>F0/1   0模块号  1接口号<br>接口速率自适应：1000/100/10M自适应<br>速率工作模式可以为10，100，1000任何一种状态<br>端口状态：up/down<br>down3种可能：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">人工down掉</span><br><span class="line">速率不匹配</span><br><span class="line">双工模式不匹配(双工duplex)(单工、半双工、全双工)</span><br></pre></td></tr></table></figure>
<h3 id="交换机基本工作模式及命令"><a href="#交换机基本工作模式及命令" class="headerlink" title="交换机基本工作模式及命令"></a>交换机基本工作模式及命令</h3><p>第一次配置网络设备，需要使用console线<br>在PC需要使用“超级终端”或其他软件<br><strong>用户模式</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">switch&gt;</span><br><span class="line">可以查看交换机的基本简单信息，且不能做任何修改配置！</span><br></pre></td></tr></table></figure>
<p><strong>特权模式</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">switch&gt; enable</span><br><span class="line">switch#</span><br><span class="line">可以查看所有配置，且不能修改配置，但可以做测试、保存、初始化等操作</span><br></pre></td></tr></table></figure>
<p><strong>全局配置模式</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">switch# configure terminal</span><br><span class="line">switch(config)#</span><br><span class="line">默认不能查看配置！可以修改配置，且全局生效！</span><br></pre></td></tr></table></figure>
<p><strong>接口配置模式</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">switch(config)# interface f0&#x2F;1(接口编号)</span><br><span class="line">switch(config-if)#</span><br><span class="line">默认不能查看配置！可以修改配置，且对该端口生效！</span><br></pre></td></tr></table></figure>
<p><code>exit</code>退出一级<br><strong>console口/线/控制台 模式</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">switch(config)#line console 0</span><br><span class="line">switch(config-line)#</span><br><span class="line">默认不能查看配置！可以修改配置，且对console口生效！</span><br></pre></td></tr></table></figure>
<p><strong>琐碎</strong><br>exit退出一级<br>end直接退到特权模式<br>支持命令缩写<br>？的用法<br>历史命令<br>tab补全键<br>ctrl+u：快速删除光标全所有字符<br>ctrl+a：快速定位光标到行首<br>ctrl+e：快速定位光标到行尾</p>
<p><strong>实际应用</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">配置主机名</span><br><span class="line">switch# configure terminal</span><br><span class="line">switch(config)#</span><br><span class="line">switch(config)#hostname sw1</span><br><span class="line">sw1(config)#hostname sw-bj-01-04(设备名)</span><br><span class="line"></span><br><span class="line">设置用户密码</span><br><span class="line">sw1(config)#line console 0</span><br><span class="line">sw1(config-line)#pass</span><br><span class="line">sw1(config-line)#password ******</span><br><span class="line">sw1(config-line)#login</span><br><span class="line"></span><br><span class="line">保存配置</span><br><span class="line">switch&gt; enable</span><br><span class="line">switch&gt;copy running-config startup-config</span><br><span class="line">或者</span><br><span class="line">write(不普遍适用)</span><br><span class="line"></span><br><span class="line">查看running-config配置</span><br><span class="line">switch&gt; enable</span><br><span class="line">switch# show running-config  (简写：sh run)</span><br><span class="line"></span><br><span class="line">查看startup-config配置</span><br><span class="line">show startup-config</span><br><span class="line"></span><br><span class="line">重启设备</span><br><span class="line">switch&gt; enable</span><br><span class="line">switch# reload</span><br><span class="line"></span><br><span class="line">配置特权密码：</span><br><span class="line">switch# configure terminal</span><br><span class="line">switch(config)#</span><br><span class="line">switch(config)# enable password 密码(明文)</span><br><span class="line">switch(config)# enable secret 密码(密文)</span><br><span class="line"></span><br><span class="line">查看MAC地址表：</span><br><span class="line">switch# show mac-address-table</span><br><span class="line"></span><br><span class="line">查看接口列表：</span><br><span class="line">switch# show ip interface brief</span><br><span class="line">switch# sh int b</span><br><span class="line"></span><br><span class="line">手工关闭接口</span><br><span class="line">switch(config)# interface f0&#x2F;1(接口编号)</span><br><span class="line">switch(config-if)# shutdown</span><br><span class="line">switch(config-if)# exit</span><br><span class="line"></span><br><span class="line">手工开启接口：</span><br><span class="line">switch(config)# interface f0&#x2F;1(接口编号)</span><br><span class="line">switch(config-if)# no shutdown</span><br><span class="line">switch(config-if)# exit</span><br><span class="line"></span><br><span class="line">do的用法：</span><br><span class="line">其他模式加do空格可以强制使用特权模式的命令</span><br><span class="line">如：</span><br><span class="line">do sh run</span><br><span class="line">do sh ip int b</span><br><span class="line">do wr</span><br><span class="line"></span><br><span class="line">删除配置：</span><br><span class="line">在哪配置的，就在哪删！</span><br><span class="line">命令前加no空格</span><br><span class="line">原命令中有参数，并且参数具有唯一性，则删除时不需要加参数</span><br><span class="line">如：</span><br><span class="line">switch# configure terminal</span><br><span class="line">switch(config)#hostname sw1</span><br><span class="line"></span><br><span class="line">switch# configure terminal</span><br><span class="line">switch(config)#no hostname</span><br><span class="line"></span><br><span class="line">清空&#x2F;擦除&#x2F;初始化配置</span><br><span class="line">switch&gt; enable</span><br><span class="line">switch# erase startup-config</span><br><span class="line"></span><br><span class="line">为3层端口配置IP：</span><br><span class="line">switch(config)# interface f0&#x2F;1(接口编号)</span><br><span class="line">switch(config-if)# ip add 10.1.1.254 255.255.255.0</span><br><span class="line">switch(config-if)# no shutdown</span><br><span class="line">switch(config-if)# exit</span><br></pre></td></tr></table></figure>

<p>在内存中存在一个文件：<code>running-config</code>；第一次开机，系统会在内存中自动创建一个新的干净的running-config<br>hostname password</p>
<p><code>交换机开机动作</code>：先去硬盘中查找startup-config是否存在，如果不存在，在内存中创建新的running-config；如果存在，则复制到内存中并改名为running-config</p>
<h1 id="抓包"><a href="#抓包" class="headerlink" title="抓包"></a>抓包</h1><p>学会简单的抓包<br>验证TCP/IP协议栈结构<br>验证帧结构</p>
<h1 id="IP包头分析与静态路由"><a href="#IP包头分析与静态路由" class="headerlink" title="IP包头分析与静态路由"></a>IP包头分析与静态路由</h1><h2 id="路由原理"><a href="#路由原理" class="headerlink" title="路由原理"></a>路由原理</h2><h3 id="IP包头分析"><a href="#IP包头分析" class="headerlink" title="IP包头分析"></a>IP包头分析</h3><p>IP数据包格式</p>
<img src="/2020/06/10/%E5%8D%83%E5%B3%B0%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/IP%E6%95%B0%E6%8D%AE%E5%8C%85%E6%A0%BC%E5%BC%8F.png" class="">
<p>IP包头：20-60字节<br>版本(4)：ipv4/ipv6<br>首部长度(4)：声明ip包头有无可选项，正常为20字节，0101单位4B<br>优先级与服务类型(8)：优先级3比特，服务类型4比特，最后1比特未使用<br>段偏移量(13)：0、1480、2960….(1480的倍数)分片先后的顺序<br>标示符(16)：标识同一个数据报文的所有分片<br>标志(3)：第一位无用，第二位表示是否分片，最后一位表示是不是最后一个分片<br>总长度(16)：IP报文的总长度，345层的总长度<br>TTL(8)：防止一个数据包在网络上永久循环</p>
<h3 id="路由器工作原理"><a href="#路由器工作原理" class="headerlink" title="路由器工作原理"></a>路由器工作原理</h3><p>路由：跨越从源主机到目标主机的一个互联网络来转发数据包的过程(路由器为IP包选择路径的过程)</p>
<h3 id="路由表的形成"><a href="#路由表的形成" class="headerlink" title="路由表的形成"></a>路由表的形成</h3><h2 id="静态路由和默认路由"><a href="#静态路由和默认路由" class="headerlink" title="静态路由和默认路由"></a>静态路由和默认路由</h2><h3 id="静态路由"><a href="#静态路由" class="headerlink" title="静态路由"></a>静态路由</h3><h3 id="默认路由"><a href="#默认路由" class="headerlink" title="默认路由"></a>默认路由</h3><h3 id="路由器转发数据包的封装过程"><a href="#路由器转发数据包的封装过程" class="headerlink" title="路由器转发数据包的封装过程"></a>路由器转发数据包的封装过程</h3><h3 id="交换与路由对比"><a href="#交换与路由对比" class="headerlink" title="交换与路由对比"></a>交换与路由对比</h3><h2 id="静态路由和默认路由的配置"><a href="#静态路由和默认路由的配置" class="headerlink" title="静态路由和默认路由的配置"></a>静态路由和默认路由的配置</h2><h3 id="静态路由配置命令"><a href="#静态路由配置命令" class="headerlink" title="静态路由配置命令"></a>静态路由配置命令</h3>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag"># 计算机网络</a>
          
            <a href="/tags/%E5%AE%89%E5%85%A8/" rel="tag"># 安全</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/06/10/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/" rel="next" title="计算机组成原理">
                <i class="fa fa-chevron-left"></i> 计算机组成原理
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2022/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="prev" title="计算机网络">
                计算机网络 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">wuwen</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#IP地址详解"><span class="nav-number">1.</span> <span class="nav-text">IP地址详解</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#简单局域网构成"><span class="nav-number">1.1.</span> <span class="nav-text">简单局域网构成</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IP地址"><span class="nav-number">1.2.</span> <span class="nav-text">IP地址</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#子网掩码"><span class="nav-number">1.3.</span> <span class="nav-text">子网掩码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IP地址详解-1"><span class="nav-number">1.4.</span> <span class="nav-text">IP地址详解</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#网关"><span class="nav-number">1.5.</span> <span class="nav-text">网关</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#PC向外发包"><span class="nav-number">1.5.1.</span> <span class="nav-text">PC向外发包</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DNS"><span class="nav-number">1.6.</span> <span class="nav-text">DNS</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#配置IP地址"><span class="nav-number">1.7.</span> <span class="nav-text">配置IP地址</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#网络测试命令"><span class="nav-number">1.8.</span> <span class="nav-text">网络测试命令</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#进制转换"><span class="nav-number">2.</span> <span class="nav-text">进制转换</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#基本DOS命令"><span class="nav-number">3.</span> <span class="nav-text">基本DOS命令</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#批处理编写"><span class="nav-number">4.</span> <span class="nav-text">批处理编写</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#批处理作用"><span class="nav-number">4.1.</span> <span class="nav-text">批处理作用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#如何创建批处理"><span class="nav-number">4.2.</span> <span class="nav-text">如何创建批处理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#批处理基本语法"><span class="nav-number">4.3.</span> <span class="nav-text">批处理基本语法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#echo-off"><span class="nav-number">4.3.1.</span> <span class="nav-text">@echo off</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pause"><span class="nav-number">4.3.2.</span> <span class="nav-text">pause</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#title"><span class="nav-number">4.3.3.</span> <span class="nav-text">title</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#echo"><span class="nav-number">4.3.4.</span> <span class="nav-text">echo.</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#set"><span class="nav-number">4.3.5.</span> <span class="nav-text">set</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#和goto"><span class="nav-number">4.3.6.</span> <span class="nav-text">:和goto</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#例子："><span class="nav-number">4.3.7.</span> <span class="nav-text">例子：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#用户与组管理"><span class="nav-number">5.</span> <span class="nav-text">用户与组管理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#服务器系统版本介绍"><span class="nav-number">5.1.</span> <span class="nav-text">服务器系统版本介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#用户管理"><span class="nav-number">5.2.</span> <span class="nav-text">用户管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#用户概述"><span class="nav-number">5.2.1.</span> <span class="nav-text">用户概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#内置账户"><span class="nav-number">5.2.2.</span> <span class="nav-text">内置账户</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#给人使用的账户"><span class="nav-number">5.2.2.1.</span> <span class="nav-text">给人使用的账户</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#计算机服务组件相关的系统账户"><span class="nav-number">5.2.2.2.</span> <span class="nav-text">计算机服务组件相关的系统账户</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#配置文件"><span class="nav-number">5.2.2.3.</span> <span class="nav-text">配置文件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#组管理"><span class="nav-number">5.3.</span> <span class="nav-text">组管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#组概述"><span class="nav-number">5.3.1.</span> <span class="nav-text">组概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#内置组"><span class="nav-number">5.3.2.</span> <span class="nav-text">内置组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#组管理命令"><span class="nav-number">5.3.3.</span> <span class="nav-text">组管理命令</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#服务器远端管理"><span class="nav-number">6.</span> <span class="nav-text">服务器远端管理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#远程管理模型"><span class="nav-number">6.1.</span> <span class="nav-text">远程管理模型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#远程桌面"><span class="nav-number">6.2.</span> <span class="nav-text">远程桌面</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#telnet"><span class="nav-number">6.3.</span> <span class="nav-text">telnet</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#破解windows系统密码"><span class="nav-number">7.</span> <span class="nav-text">破解windows系统密码</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#利用五次shift漏洞破解win7密码"><span class="nav-number">7.1.</span> <span class="nav-text">利用五次shift漏洞破解win7密码</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#漏洞"><span class="nav-number">7.1.1.</span> <span class="nav-text">漏洞</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#破解过程及相关知识"><span class="nav-number">7.1.2.</span> <span class="nav-text">破解过程及相关知识</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#漏洞利用过程"><span class="nav-number">7.1.3.</span> <span class="nav-text">漏洞利用过程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#利用PE系统破解xp密码"><span class="nav-number">7.2.</span> <span class="nav-text">利用PE系统破解xp密码</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#漏洞-1"><span class="nav-number">7.2.1.</span> <span class="nav-text">漏洞</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#破解过程相关理论"><span class="nav-number">7.2.2.</span> <span class="nav-text">破解过程相关理论</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#NTFS安全权限"><span class="nav-number">8.</span> <span class="nav-text">NTFS安全权限</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#NTFS权限概述"><span class="nav-number">8.1.</span> <span class="nav-text">NTFS权限概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文件系统概述"><span class="nav-number">8.2.</span> <span class="nav-text">文件系统概述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#NTFS文件系统特点"><span class="nav-number">8.2.1.</span> <span class="nav-text">NTFS文件系统特点</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#修改NTFS权限"><span class="nav-number">8.3.</span> <span class="nav-text">修改NTFS权限</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#取消权限继承"><span class="nav-number">8.3.1.</span> <span class="nav-text">取消权限继承</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文件及文件夹权限"><span class="nav-number">8.3.2.</span> <span class="nav-text">文件及文件夹权限</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#文件权限-amp-amp-权限内容"><span class="nav-number">8.3.2.1.</span> <span class="nav-text">文件权限  &amp;&amp;  权限内容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#文件夹权限-权限内容"><span class="nav-number">8.3.2.2.</span> <span class="nav-text">文件夹权限  ** 权限内容</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#权限累加"><span class="nav-number">8.3.3.</span> <span class="nav-text">权限累加</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#拒绝最大"><span class="nav-number">8.3.4.</span> <span class="nav-text">拒绝最大</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#取得所有权"><span class="nav-number">8.3.5.</span> <span class="nav-text">取得所有权</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#强制继承"><span class="nav-number">8.3.6.</span> <span class="nav-text">强制继承</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文件复制对权限的影响"><span class="nav-number">8.3.7.</span> <span class="nav-text">文件复制对权限的影响</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#文件共享服务器"><span class="nav-number">9.</span> <span class="nav-text">文件共享服务器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#共享服务器概述"><span class="nav-number">9.1.</span> <span class="nav-text">共享服务器概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#创建共享"><span class="nav-number">9.2.</span> <span class="nav-text">创建共享</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#访问共享"><span class="nav-number">9.3.</span> <span class="nav-text">访问共享</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#创建隐藏的共享"><span class="nav-number">9.4.</span> <span class="nav-text">创建隐藏的共享</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#访问隐藏共享的方法"><span class="nav-number">9.5.</span> <span class="nav-text">访问隐藏共享的方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#共享相关命令"><span class="nav-number">9.6.</span> <span class="nav-text">共享相关命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#屏蔽系统隐藏共享自动产生"><span class="nav-number">9.7.</span> <span class="nav-text">屏蔽系统隐藏共享自动产生</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#打开注册表的编辑器：regedit"><span class="nav-number">9.7.1.</span> <span class="nav-text">打开注册表的编辑器：regedit</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#定位共享注册表位置"><span class="nav-number">9.7.2.</span> <span class="nav-text">定位共享注册表位置</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查看本地网络连接状态"><span class="nav-number">9.8.</span> <span class="nav-text">查看本地网络连接状态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#关闭445服务"><span class="nav-number">9.9.</span> <span class="nav-text">关闭445服务</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#DNS部署与安全"><span class="nav-number">10.</span> <span class="nav-text">DNS部署与安全</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#DNS-1"><span class="nav-number">10.1.</span> <span class="nav-text">DNS</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#域名组成"><span class="nav-number">10.2.</span> <span class="nav-text">域名组成</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#域名组成概述"><span class="nav-number">10.2.1.</span> <span class="nav-text">域名组成概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#域名组成-1"><span class="nav-number">10.2.2.</span> <span class="nav-text">域名组成</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#监听窗口"><span class="nav-number">10.3.</span> <span class="nav-text">监听窗口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DNS解析种类"><span class="nav-number">10.4.</span> <span class="nav-text">DNS解析种类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#按照查询方式分类"><span class="nav-number">10.4.1.</span> <span class="nav-text">按照查询方式分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#按照查询内容分类"><span class="nav-number">10.4.2.</span> <span class="nav-text">按照查询内容分类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DNS服务器搭建过程"><span class="nav-number">10.5.</span> <span class="nav-text">DNS服务器搭建过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DNS请求顺序"><span class="nav-number">10.6.</span> <span class="nav-text">DNS请求顺序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DNS服务器分类"><span class="nav-number">10.7.</span> <span class="nav-text">DNS服务器分类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#辅助DNS服务器"><span class="nav-number">10.8.</span> <span class="nav-text">辅助DNS服务器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#清除DNS缓存"><span class="nav-number">10.9.</span> <span class="nav-text">清除DNS缓存</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#客户机上清除缓存"><span class="nav-number">10.9.1.</span> <span class="nav-text">客户机上清除缓存</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#服务器上清除缓存"><span class="nav-number">10.9.2.</span> <span class="nav-text">服务器上清除缓存</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#域名解析记录类型"><span class="nav-number">10.10.</span> <span class="nav-text">域名解析记录类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#反向DNS"><span class="nav-number">10.11.</span> <span class="nav-text">反向DNS</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#具体DNS配置步骤"><span class="nav-number">10.12.</span> <span class="nav-text">具体DNS配置步骤</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#DHCP部署与安全"><span class="nav-number">11.</span> <span class="nav-text">DHCP部署与安全</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#DHCP作用"><span class="nav-number">11.1.</span> <span class="nav-text">DHCP作用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DHCP相关概念"><span class="nav-number">11.2.</span> <span class="nav-text">DHCP相关概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DHCP优点"><span class="nav-number">11.3.</span> <span class="nav-text">DHCP优点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DHCP原理"><span class="nav-number">11.4.</span> <span class="nav-text">DHCP原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DHCP续约"><span class="nav-number">11.5.</span> <span class="nav-text">DHCP续约</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#部署DHCP服务器"><span class="nav-number">11.6.</span> <span class="nav-text">部署DHCP服务器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#地址保留"><span class="nav-number">11.7.</span> <span class="nav-text">地址保留</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#选项优先级"><span class="nav-number">11.8.</span> <span class="nav-text">选项优先级</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DHCP备份"><span class="nav-number">11.9.</span> <span class="nav-text">DHCP备份</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DHCP攻击与防御"><span class="nav-number">11.10.</span> <span class="nav-text">DHCP攻击与防御</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#IIS之web服务器"><span class="nav-number">12.</span> <span class="nav-text">IIS之web服务器</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#IIS之FTP服务器"><span class="nav-number">13.</span> <span class="nav-text">IIS之FTP服务器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#File-Transfor-Protocol"><span class="nav-number">13.1.</span> <span class="nav-text">File Transfor Protocol</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#端口号"><span class="nav-number">13.2.</span> <span class="nav-text">端口号</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#FTP工作方式"><span class="nav-number">13.3.</span> <span class="nav-text">FTP工作方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#部署FTP服务器"><span class="nav-number">13.4.</span> <span class="nav-text">部署FTP服务器</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#域"><span class="nav-number">14.</span> <span class="nav-text">域</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Domain"><span class="nav-number">14.1.</span> <span class="nav-text">Domain</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#内网环境"><span class="nav-number">14.2.</span> <span class="nav-text">内网环境</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#域的特点"><span class="nav-number">14.3.</span> <span class="nav-text">域的特点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#域的组成"><span class="nav-number">14.4.</span> <span class="nav-text">域的组成</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#域的部署"><span class="nav-number">14.5.</span> <span class="nav-text">域的部署</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#活动目录"><span class="nav-number">14.6.</span> <span class="nav-text">活动目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#组策略GPO"><span class="nav-number">14.7.</span> <span class="nav-text">组策略GPO</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#部署安装活动目录"><span class="nav-number">14.8.</span> <span class="nav-text">部署安装活动目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PC加入域"><span class="nav-number">14.9.</span> <span class="nav-text">PC加入域</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常见小问题"><span class="nav-number">14.10.</span> <span class="nav-text">常见小问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OU：组织单位"><span class="nav-number">14.11.</span> <span class="nav-text">OU：组织单位</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#组策略：Group-Policy-GPO"><span class="nav-number">14.12.</span> <span class="nav-text">组策略：Group Policy&#x3D;GPO</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#复习"><span class="nav-number">14.13.</span> <span class="nav-text">复习</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PKI"><span class="nav-number">15.</span> <span class="nav-text">PKI</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#PKI概述"><span class="nav-number">15.1.</span> <span class="nav-text">PKI概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#信息安全三要素"><span class="nav-number">15.2.</span> <span class="nav-text">信息安全三要素</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#哪些IT领域用到PKI"><span class="nav-number">15.3.</span> <span class="nav-text">哪些IT领域用到PKI</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#公钥加密技术"><span class="nav-number">15.4.</span> <span class="nav-text">公钥加密技术</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数字签名"><span class="nav-number">15.5.</span> <span class="nav-text">数字签名</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#证书"><span class="nav-number">15.6.</span> <span class="nav-text">证书</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#渗透简单测试"><span class="nav-number">15.7.</span> <span class="nav-text">渗透简单测试</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#扫描与爆破"><span class="nav-number">16.</span> <span class="nav-text">扫描与爆破</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#扫描技术"><span class="nav-number">16.1.</span> <span class="nav-text">扫描技术</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#基础知识"><span class="nav-number">16.1.1.</span> <span class="nav-text">基础知识</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#OSI与TCP-IP5层协议"><span class="nav-number">17.</span> <span class="nav-text">OSI与TCP-IP5层协议</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#分层模型"><span class="nav-number">17.1.</span> <span class="nav-text">分层模型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#分层思想"><span class="nav-number">17.1.1.</span> <span class="nav-text">分层思想</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OSI七层模型"><span class="nav-number">17.1.2.</span> <span class="nav-text">OSI七层模型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP-IP-5层协议簇-协议栈"><span class="nav-number">17.1.3.</span> <span class="nav-text">TCP&#x2F;IP 5层协议簇&#x2F;协议栈</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据传输过程"><span class="nav-number">17.2.</span> <span class="nav-text">数据传输过程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#数据封装与解封装过程"><span class="nav-number">17.2.1.</span> <span class="nav-text">数据封装与解封装过程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#物理层-physical-layer"><span class="nav-number">17.3.</span> <span class="nav-text">物理层 physical layer</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PT软件"><span class="nav-number">17.4.</span> <span class="nav-text">PT软件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据链路层-2层-Data-Link-Layer"><span class="nav-number">17.5.</span> <span class="nav-text">数据链路层(2层 Data Link Layer)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#属于2层"><span class="nav-number">17.5.1.</span> <span class="nav-text">属于2层</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#传输单元：帧"><span class="nav-number">17.5.2.</span> <span class="nav-text">传输单元：帧</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#帧结构："><span class="nav-number">17.5.3.</span> <span class="nav-text">帧结构：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#工作在数据链路层的设备"><span class="nav-number">17.5.4.</span> <span class="nav-text">工作在数据链路层的设备</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#交换机的端口"><span class="nav-number">17.5.5.</span> <span class="nav-text">交换机的端口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#交换机基本工作模式及命令"><span class="nav-number">17.5.6.</span> <span class="nav-text">交换机基本工作模式及命令</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#抓包"><span class="nav-number">18.</span> <span class="nav-text">抓包</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#IP包头分析与静态路由"><span class="nav-number">19.</span> <span class="nav-text">IP包头分析与静态路由</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#路由原理"><span class="nav-number">19.1.</span> <span class="nav-text">路由原理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#IP包头分析"><span class="nav-number">19.1.1.</span> <span class="nav-text">IP包头分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#路由器工作原理"><span class="nav-number">19.1.2.</span> <span class="nav-text">路由器工作原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#路由表的形成"><span class="nav-number">19.1.3.</span> <span class="nav-text">路由表的形成</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#静态路由和默认路由"><span class="nav-number">19.2.</span> <span class="nav-text">静态路由和默认路由</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#静态路由"><span class="nav-number">19.2.1.</span> <span class="nav-text">静态路由</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#默认路由"><span class="nav-number">19.2.2.</span> <span class="nav-text">默认路由</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#路由器转发数据包的封装过程"><span class="nav-number">19.2.3.</span> <span class="nav-text">路由器转发数据包的封装过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#交换与路由对比"><span class="nav-number">19.2.4.</span> <span class="nav-text">交换与路由对比</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#静态路由和默认路由的配置"><span class="nav-number">19.3.</span> <span class="nav-text">静态路由和默认路由的配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#静态路由配置命令"><span class="nav-number">19.3.1.</span> <span class="nav-text">静态路由配置命令</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">wuwen</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
